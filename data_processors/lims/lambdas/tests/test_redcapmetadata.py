import json
import tempfile
from typing import List, Dict
from unittest import skip
import numpy as np
import pandas as pd
from django.test import TransactionTestCase
from mockito import when, mock, kwargs, patch, ANY
from redcap import Project
from data_processors.lims.lambdas import redcapmetadata
from data_processors.lims.services import redcapmetadata_srv
from data_processors.lims.tests.case import LimsIntegrationTestCase, logger


mock_sheet_1 = b"""recordid,redcap_event_name,redcap_repeat_instrument,redcap_repeat_instance,redcap_data_access_group,redcap_survey_identifier,enrolment_timestamp,enr_email,study_category,study_name,study_column_sub,study_name_research,study_name_research_other,study_subcategory,study_name_derived,subjectid,man_sbj,enr_patient_studyid,enr_patient_urn_local,enr_patient_urn_other,enr_patient_enrol_date,enr_patient_firstname,enr_patient_surname,enr_patient_dob,enr_patient_age,enr_patient_sex,enr_patient_ethnicity,enr_patient_race,enr_patient_address_line1,enr_patient_address_line2,enr_patient_address_suburb,enr_patient_address_state,enr_patient_address_postcode,enr_patient_phone,enr_patient_email,enr_patient_consent_column,enr_patient_consent_other,enr_patient_consent_date_other,enr_linked_subject,enr_linked_id_valid,enr_linked_recordid,enr_linked_subject2,enr_linked_id_valid2,enr_linked_recordid2,enr_comments,enr_create_user,enr_create_dt,createdate,createyear,createyear2,yearprefix,enrolment_complete,request_timestamp,req_request_date,req_requester_name,req_requester_email,req_requester_inst,req_requester_inst_other,req_clin_provider,req_clinprov_name,req_clinprov_email,req_pi,req_pi_name,req_pi_email,req_pi_institution,req_pi_institution_other,req_project,req_custodian_name,req_custodian_email,req_tumour_stream,req_tuscat_brn,req_tuscat_brt,req_tuscat_lgi,req_tuscat_ugi,req_tuscat_gu,req_tuscat_gyn,req_tuscat_hem,req_tuscat_hn,req_tuscat_lng,req_tuscat_ped,req_tuscat_sar,req_tuscat_skn,req_tuscat_pedspec,req_tuscat_oth,req_tuscat_calc,req_diagnosis,req_seq_type___1,req_seq_type___2,req_seq_type___3,req_seq_type___4,req_seq_type___99,req_seq_type_other,req_seq_reason___1,req_seq_reason___2,req_seq_reason___3,req_seq_reason___99,req_seq_reason_other,req_return_fastq,req_return_fastq_name,req_return_fastq_email,req_return_keybaseid,req_copy_clinician,req_copy_clinician1_name,req_copy_clinician1_email,req_copy_clinician2_name,req_copy_clinician2_email,req_comments,req_create_user,req_create_dt,request_complete,app_pi_name,app_pi_name_other,app_pi_email_other,app_pi_approved,app_approval_date,app_comments,app_create_user,app_create_dt,approval_complete,consent_patient_timestamp,cons_completedby,cons_2,cons_3,cons_4,cons_rel_name,cons_rel_relation,cons_rel_dob,cosn_rel_address,cons_rel_phone,cons_6,cons_7,cons_8,cons_9,cons_participant_name,cons_participant_signature,cons_participant_sig_date,cons_scanned_form,cons_witness_name,cons_witness_signature,cons_witness_sig_date,cons_consent_date,cons_create_user,cons_create_dt,consent_patient_complete,consent_pi_timestamp,conspi_pi_name,conspi_pi_signature,conspi_pi_sig_date,conspi_merged_file,conspi_create_user,conspi_create_dt,consent_pi_complete,clinical_phenotype_timestamp,clin_ecog_qsorres,clin_rsorres,clin_primtumloc,clin_ctx,clin_ctx_type,clin_ctx_num,clin_ctx_prior,clin_rtx,clin_genetic_prior,clin_genetic_testname,clin_genetic_germline,clin_genetic_germlinename,clin_genetic_somatic,clin_genetic_somaticname,clin_seq_concur,clin_seq_concurname,clin_history,clin_clinfile1,clin_clinfile2,clin_histopathfile1,clin_histopathfile2,clin_comments,clin_create_user,clin_create_dt,clinical_phenotype_complete,biopsy_sample_type_timestamp,sub_subtiming,sub_subtype___1,sub_subtype___2,sub_archival_fresh,sub_sample_type___1,sub_sample_type___2,sub_sample_type___3,sub_sample_type___4,sub_sample_type___5,sub_sample_type___6,sub_sample_type___7,sub_sample_type___8,sub_sample_type___99,sub_sample_type_other,sub_ffpe_custodiallab,sub_ffpe_identifier,sub_ffpe_recall,sub_biopsy_date,sub_biopsy_time,sub_biopsy_site,sub_biopsy_type,sub_biopsy_type_other,sub_blood_date,sub_germlinesample_type___1,sub_germlinesample_type___2,sub_germlinesample_type___3,sub_germlinesample_type___4,sub_germlinesample_type___5,sub_germlinesample_type___99,sub_germlinesample_type_other,sub_comments,sub_create_user,sub_create_dt,biopsy_sample_type_complete,tdna_id,tdna_id_external,tdna_starlims,tdna_starlimsid,tdna_mdxprj,tdna_mdxid,tdna_prjid,tdna_sample_source,sub_source_number,tdna_receivedate,tdna_idmatch,tdna_identifiers_diff,tdna_extraction,tdna_extractiondate,tdna_photo,tdna_photo2,tdna_submissionform,tdna_submissionform2,tdna_qcdate,tdna_nanodrop,tdna_dilfactor,tdna_qubit,tdna_stockconc,tdna_integrity,tdna_gapdh,tdna_passqc,tdna_qcwhyfail,tdna_qcwhyfail_other,tdna_resub_email,tdna_cfdna,tdna_cfdna_total,tdna_libprepdate,tdna_batchid,tdna_libraryid,tdna_libprep,tdna_libprep_whyfail,tdna_libprep_whyfail_other,tdna_seqdate,tdna_seq_success,tdna_seq_whyfail,tdna_seq_whyfail_other,tdna_topup,tdna_topupdate,tdna_topup_libraryid,tdna_samplereturned,tdna_samplereturn_date,tdna_comments,tdna_create_user,tdna_create_dt,lab_tumour_dna_complete,trna_id,trna_id_external,trna_starlims,trna_starlimsid,trna_mdxprj,trna_mdxid,trna_prjid,trna_sample_source,sub_source_number_278db1,trna_receivedate,trna_idmatch,trna_identifiers_diff,trna_extraction,trna_extractiondate,trna_photo,trna_photo2,trna_submissionform,trna_submissionform2,trna_qcdate,trna_nanodrop,trna_dilfactor,trna_qubit,trna_stockconc,trna_integrity,trna_gapdh,trna_passqc,trna_qcwhyfail,trna_qcwhyfail_other,trna_resub_email,trna_libprepdate,trna_batchid,trna_libraryid,trna_libprep,trna_libprep_whyfail,trna_libprep_whyfail_other,trna_seqdate,trna_seq_success,trna_seq_whyfail,trna_seq_whyfail_other,trna_topup,trna_topupdate,trna_topup_libraryid,trna_samplereturned,trna_samplereturn_date,trna_comments,trna_create_user,trna_create_dt,lab_tumour_rna_complete,gdna_id,gdna_id_external,gdna_starlims,gdna_starlimsid,gdna_mdxprj,gdna_mdxid,gdna_prjid,gdna_sample_source,sub_source_number_2c4175,gdna_receivedate,gdna_idmatch,gdna_identifiers_diff,gdna_extraction,gdna_extractiondate,gdna_photo,gdna_photo2,gdna_submissionform,gdna_submissionform2,gdna_qcdate,gdna_nanodrop,gdna_dilfactor,gdna_qubit,gdna_stockconc,gdna_integrity,gdna_gapdh,gdna_passqc,gdna_qcwhyfail,gdna_qcwhyfail_other,gdna_resub_email,gdna_libprepdate,gdna_batchid,gdna_libraryid,gdna_libprep,gdna_libprep_whyfail,gdna_libprep_whyfail_other,gdna_seqdate,gdna_seq_success,gdna_seq_whyfail,gdna_seq_whyfail_other,gdna_topup,gdna_topupdate,gdna_topup_libraryid,gdna_samplereturned,gdna_samplereturn_date,gdna_comments,gdna_create_user,gdna_create_dt,lab_germline_dna_complete,rnasum_ref,snomed_code,seq_fail,seq_failreason,seq_fail_reason_other,seq_fail_report,seq_fail_report_other,seq_fail_email,seq_coverage_tumour,seq_coverage_normal,sample_quality___1,sample_quality___2,sample_quality___3,sample_quality___4,ploidy,tumour_purity,polyclonal_proportion,mutations_mbase,coding_variants,snv_number,indels_number,variants_tier1,variants_tier2,variants_tier3,variants_tier4,pathogen,circosplot,genome_integrity,mutator_type,signature,msi_status,tissueorigin,md_germlinecurr,md_germlinecurrname,md_somaticcurr,md_somaticcurrname,report_yesno,report_date,report_file,mol_create_user,mol_create_dt,molecular_data_reporting_complete,clinical_follow_up_timestamp,fup_eventdate,fup_vs,dthdat_dsyn,dthdat,alivedat,newtxyn,cmtrt1,cmdur1,cm1_rsorres,cmtrt2,cmdur2,cm2_rsorres,cmtrt3,cmdur3,cm3_rsorres,cmtrt4,cmdur4,cm4_rsorres,cmtrt5,cmdur5,cm5_rsorres,mngimpt,cm_mngimpt___1,cm_mngimpt___2,cm_mngimpt___3,cm_mngimpt___4,cm_mngimpt___5,trial_mngimpt,trialphase_mngimpct,trialid_mngimpct,capyn,cm_cap___1,cm_cap___2,cm_cap___3,cm_cap___4,cm_cap___5,useful_mngimpct,detail_mngimpct___1,detail_mngimpct___2,detail_mngimpct___3,detail_mngimpct___4,detail_mngimpct___5,detail_mngimpct___6,detail_mngimpct___7,detail_mngimpct___99,detailoth_mngimpct,fup_fccref,fup_create_user,fup_create_dt,clinical_follow_up_complete,subject_status_summary_complete,withdrawal_patient_timestamp,withdrawal_completed_by,participant_name_v2,participant_signature_v2,participant_signature_date_v2,participant_withdrawal_scanned,wdr_create_user,wdr_create_dt,withdrawal_patient_complete,withdrawal_pi_timestamp,withdrawal_pi_name,withdrawal_pi_signature,withdrawal_pi_signature_date,withdrawal_final,wdrp_create_user,wdrp_create_dt,withdrawal_pi_complete,fhirtest,todo_dev_complete
5001,enrolment_arm_1,,,_stafford_fox,,,,1,6,,,,3,"Stafford Fox",SBJ05001,,SFRC01442,MEH745025,SVP745025,2021-09-09,,,,,1,7,7,,,,,,,,,1,2021-08-03,,1,0,,0,0,"This is a deidentified sample",grant.lee,"2021-09-12 14:43:41",2021-09-12,21,21,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5001,request_original_arm_1,,,_stafford_fox,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-09-10,"Ratana Lim",umccr-redcap@unimelb.edu.au,9,,0,"Briony Milesi",umccr-redcap@unimelb.edu.au,,,,,,Scott-SFRC,"Clare Scott",precision-oncology@unimelb.edu.au,8,,,,,,,,99,,,,,,Tonsil,Tonsil,"80 yo male with tonsillar squamous cell carcinoma (left side), T2N2bM0, Dx (by review) August 2021. p16 postitive. Infrequent smoker (less than one pack-year smoking history). Treated with curative intent chemoradiotherapy (with cisplatin) starting 0/08/21. Submitted sample is surgery tissue obtained 30-07-2021",0,1,0,0,0,,0,1,0,0,"Required for patient treatment  ",1,"Grant Jones",umccr-redcap@unimelb.edu.au,GJ7766,1,"Clare Scott",umccr-redcap@unimelb.edu.au,"Damien Kee",umccr-redcap@unimelb.edu.au,"No additional comments.",grant.lee,"2021-09-12 14:50:11",2,1,,,1,2021-09-11,"I approved this request, and these are my comments.",grant.lee,"2021-09-12 14:52:55",2,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,0,,,2,"Left tonsil",1,Cisplatin,0,,1,0,,,,,,0,,"80 yo male with tonsillar squamous cell carcinoma (left side), T2N2bM0, Dx (by review) August 2021. p16 postitive. Infrequent smoker (less than one pack-year smoking history). Treated with curative intent chemoradiotherapy (with cisplatin) starting 30/08/21. Submitted sample is surgery tissue obtained 30-07-2021  ",REDCap-Beginners-Guide.pdf,,REDCap-Beginners-Guide.pdf,,"No additional comments.",grant.lee,"2021-09-12 14:55:31",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5001,request_original_arm_1,biopsy_sample_type,1,_stafford_fox,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1,1,1,1,0,0,0,0,1,0,0,0,0,,,,,2021-07-30,,"Left tonsil",1,,2021-08-02,0,0,1,0,0,0,,"Comments for sample submission go here.",grant.lee,"2021-09-12 14:54:04",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5001,request_original_arm_1,lab_tumour_dna,1,_stafford_fox,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,T2105001R1,SFRC01442_S1,1,PRJ210830,2,MDXT2105001R1,PRJT2105001R1,1,1,2021-09-12,1,,0,,REDCap-Beginners-Guide.pdf,,REDCap-Beginners-Guide.pdf,,2021-09-12,43.9,4,5.3,21.2,6.9,8,1,,,,,,2021-09-12,,L2100842,1,,,2021-09-12,1,,,0,,,,,"These are comments for this lab sample.",grant.lee,"2021-09-12 15:01:09",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5001,request_original_arm_1,lab_tumour_dna,2,_stafford_fox,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,T2105001R2,PPP998,0,,,MDXT2105001R2,PRJT2105001R2,1,1,2021-09-13,1,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,grant.lee,"2021-09-13 10:50:50",0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5001,request_original_arm_1,lab_tumour_rna,1,_stafford_fox,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,R2105001R1,,,,,MDXR2105001R1,PRJR2105001R1,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5001,request_original_arm_1,lab_germline_dna,1,_stafford_fox,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,G2105001R1,,,,,MDXG2105001R1,PRJG2105001R1,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2021-09-13 09:22:26",0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5002,enrolment_arm_1,,,_columngrimmond,,"2021-09-12 15:06:15",,1,1,1,,,1,COLUMN-Grimmond,SBJ05002,,,PM9132500,,2021-09-12,Bill,Murray,1968-02-08,53,1,7,7,"1 Anderson Street",,Melbourne,1,3000,0412345678,umccr-redcap@unimelb.edu.au,1,,,,1,0,,0,0,,"[survey respondent]","2021-09-12 15:05:10",2021-09-12,21,21,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5002,request_original_arm_1,,,_columngrimmond,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2021-09-12 15:11:15",2021-09-12,"Tom John",umccr-redcap@unimelb.edu.au,4,,0,"Wing-Yee Lo",umccr-redcap@unimelb.edu.au,,,,,,Grimmond-COUMN,"Sean Grimmond",precision-oncology@unimelb.edu.au,9,,,,,,,,,1,,,,,,Mesothelioma,"43yo male with metastatic disease (retroperitoneal and supraclav LN, scrotal mass), Initial treatment as testicular ca, no response to BEP. Histo not consistent with testicular ca. NF2 mutation detected on TSO500. Probable tunica vaginalis mesothelioma.",0,1,1,0,0,,1,1,0,0,"Required for urgent patient treatment options.",0,,,,1,"Jill Smith",umccr-redcap@unimelb.edu.au,,,"No additional comments.","[survey respondent]","2021-09-12 15:07:57",2,2,,,1,2021-09-12,,grant.lee,"2021-09-12 15:11:36",2,"2021-09-12 15:16:09",1,1,0,0,,,,,,1,1,1,1,"Bill Murray",signature_2021-09-12_1515.png,2021-09-12,,,,,12-09-2021,"[survey respondent]","2021-09-12 15:15:23",2,"2021-09-12 15:20:22","Wing-Yee Lo",signature_2021-09-12_1520.png,2021-09-12,pid5074_formConsent_-_Patient_id5002_2021-09-12_152022.pdf,"[survey respondent]","2021-09-12 15:20:12",2,"2021-09-12 15:27:18",,2,Scrotum,1,BEP,0,,0,1,TSO500,0,,1,NF2,0,,"43yo male with metastatic disease (retroperitoneal and supraclav LN, scrotal mass), Initial treatment as testicular ca, no response to BEP. Histo not consistent with testicular ca. NF2 mutation detected on TSO500. Probable tunica vaginalis mesothelioma.  ",REDCap-Beginners-Guide.pdf,REDCap-Beginners-Guide.pdf,REDCap-Beginners-Guide.pdf,,"Please treat as urgent","[survey respondent]","2021-09-12 15:25:31",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5002,request_original_arm_1,biopsy_sample_type,1,_columngrimmond,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2021-09-12 15:25:14",1,1,0,0,0,0,1,0,0,0,0,1,0,,,,,2021-09-12,10:00,"supraclav LN",1,,2021-09-12,1,0,0,0,0,0,,"No additional comments.",grant.lee,"2021-09-12 15:23:23",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5002,request_original_arm_1,lab_tumour_dna,1,_columngrimmond,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,T2105002R1,DNA111005,1,MDX210229,1,MDXT2105002R1,PRJT2105002R1,1,1,2021-09-12,1,,1,2021-09-12,"Sample Photo.pdf",,"Submission Form.pdf",,2021-09-12,0.9,,,,,9,0,1,,1,,,,,,,,,,,,,,,,,,"12/9 Sample failed, send email to submitter requesting new submission.",grant.lee,"2021-09-12 15:27:34",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5003,enrolment_arm_1,,,_research_samples,,,,2,,,3,,4,"Research Samples",SBJ05003,,RME-01TUM,,,2021-09-12,,,,,,,,,,,,,,,,,,,1,0,,0,0,"This is a research sample and this is my comment.",grant.lee,"2021-09-12 15:31:41",2021-09-12,21,21,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5003,request_original_arm_1,,,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-09-12,"Anne Nguyen",umccr-redcap@unimelb.edu.au,11,,,,,1,,,,,"Research Study 3","Anne Nguyen",umccr-redcap@unimelb.edu.au,,,,,,,,,,,,,,,,,,0,1,0,0,0,,0,0,1,0,"Useful for my study",1,"Chris Hovens",umccr-redcap@unimelb.edu.au,CHovens221,,,,,,"No additional comments",grant.lee,"2021-09-12 15:32:30",2,7,,,1,2021-09-12,,grant.lee,"2021-09-12 15:34:25",2,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5003,request_original_arm_1,biopsy_sample_type,1,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1,1,0,1,0,0,0,0,1,0,0,0,0,,,,,,,,,,,0,0,0,0,0,0,,,grant.lee,"2021-09-12 15:34:38",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5003,request_original_arm_1,lab_tumour_dna,1,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,T2105003R1,RME-01TUM,1,PRJ210659,2,MDXT2105003R1,PRJT2105003R1,,0,2021-09-12,1,,0,,REDCap-Beginners-Guide.pdf,,,,2021-09-12,410,,,,7.4,,1,,,,,,2021-09-12,,L2100861,1,,,2021-09-12,1,,,0,,,,,"Results of research sample comments.",grant.lee,"2021-09-12 15:36:10",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5004,enrolment_arm_1,,,_research_samples,,,,2,,,2,,4,"Research Samples",SBJ05004,,ABC,,,2021-09-12,,,,,,,,,,,,,,,,,,,1,0,,0,0,,grant.lee,"2021-09-12 16:04:05",2021-09-12,21,21,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5004,request_original_arm_1,,,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,0,0,0,0,,,,,,,,,,,,,,0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5004,request_original_arm_1,biopsy_sample_type,1,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1,1,1,1,0,0,0,0,1,1,0,0,0,,,,,2021-09-12,,,,,2021-09-12,0,0,0,0,0,0,,,grant.lee,"2021-09-12 16:04:22",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5004,request_original_arm_1,biopsy_sample_type,2,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1,0,1,1,0,0,0,0,0,0,0,0,0,,,,,2021-09-12,,,,,2021-09-12,0,0,0,0,0,0,,,grant.lee,"2021-09-12 16:04:56",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5004,request_original_arm_1,lab_tumour_dna,1,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,T2105004R1,J889TR,0,,1,MDXT2105004R1,PRJT2105004R1,2,2,2021-09-12,1,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,grant.lee,"2021-09-12 16:05:21",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5005,enrolment_arm_1,,,_research_samples,,,,2,,,3,,4,"Research Samples",SBJ05005,,ABC999,,,2021-09-13,,,,,,,,,,,,,,,,,,,1,0,,0,0,"New Research Sample 1",grant.lee,"2021-09-13 08:06:41",2021-09-13,21,21,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5005,request_original_arm_1,,,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-09-13,"Tom Jones",umccr-redcap@unimelb.edu.au,2,,,,,1,,,,,"Research Study 3","Tom Jones",umccr-redcap@unimelb.edu.au,,,,,,,,,,,,,,,,,,0,1,0,0,0,,0,1,0,0,"I need this for treatment",0,,,,,,,,,No,grant.lee,"2021-09-13 09:48:22",2,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5005,request_relapse_arm_1,,,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Research Study 3",,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,0,0,0,0,,,,,,,,,,,,,,0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5006,enrolment_arm_1,,,_research_samples,,,,2,,,2,,4,"Research Samples",SBJ05006,,ABC665,,,2021-09-13,,,,,,,,,,,,,,,,,,,1,0,,0,0,"New Research Sample 2",grant.lee,"2021-09-13 08:06:59",2021-09-13,21,21,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5006,request_original_arm_1,,,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Research Study 2",,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,0,0,0,0,,,,,,,,,,,,,,0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5006,request_relapse_arm_1,,,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Research Study 2",,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,0,0,0,0,,,,,,,,,,,,,,0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5007,enrolment_arm_1,,,_research_samples,,,,2,,,3,,4,"Research Samples",SBJ05007,,ABC899,,,2021-09-13,,,,,,,,,,,,,,,,,,,1,0,,0,0,"New Research Sample 1",grant.lee,"2021-09-13 08:07:14",2021-09-13,21,21,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5007,request_original_arm_1,,,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Research Study 3",,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,0,0,0,0,,,,,,,,,,,,,,0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5007,request_relapse_arm_1,,,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Research Study 3",,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,0,0,0,0,,,,,,,,,,,,,,0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5008,enrolment_arm_1,,,_research_samples,,,,2,,,2,,4,"Research Samples",SBJ05008,,ABC645,,,2021-09-13,,,,,,,,,,,,,,,,,,,1,0,,0,0,"New Research Sample 2",grant.lee,"2021-09-13 08:07:31",2021-09-13,21,21,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5008,request_original_arm_1,,,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Research Study 2",,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,0,0,0,0,,,,,,,,,,,,,,0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5008,request_relapse_arm_1,,,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Research Study 2",,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,0,0,0,0,,,,,,,,,,,,,,0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5009,enrolment_arm_1,,,_stafford_fox,,,,1,6,,,,3,"Stafford Fox",SBJ05009,,SFRC9999,PM12345,,2021-09-13,,,,,2,7,7,,,,,,,,,1,2021-09-13,,1,0,,0,0,,grant.lee,"2021-09-13 08:45:22",2021-09-13,21,21,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5009,request_original_arm_1,,,_stafford_fox,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-09-13,"Grant Lee",umccr-redcap@unimelb.edu.au,11,,1,,,,,,,,Scott-SFRC,"Clare Scott",precision-oncology@unimelb.edu.au,1,1,,,,,,,,,,,,,,Glioma,"This is the diagnosis",0,1,0,0,0,,0,1,0,0,"This is my reason",0,,,,0,,,,,No,grant.lee,"2021-09-13 08:47:19",2,3,,,1,2021-09-13,,grant.lee,"2021-09-13 08:48:43",2,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,0,,1,2,Lung,0,,0,,0,0,,,,,,0,,"My report",,,,,,grant.lee,"2021-09-13 08:49:18",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5009,request_original_arm_1,biopsy_sample_type,1,_stafford_fox,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1,1,1,1,0,0,0,0,1,0,0,0,0,,,,,2021-09-13,,Lung,1,,2021-09-13,1,0,0,0,0,0,,,grant.lee,"2021-09-13 08:48:55",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5009,request_original_arm_1,lab_tumour_dna,1,_stafford_fox,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,T2105009R1,AABB77,0,,1,MDX2105009R1,PRJ2105009R1,1,1,2021-09-13,1,,1,2021-09-13,,,,,2021-09-13,4,4,4,16,4,4,1,,,,,,2021-09-13,,L999,1,,,2021-09-13,1,,,0,,,1,2021-09-13,No,grant.lee,"2021-09-13 08:49:48",2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5010,enrolment_arm_1,,,_research_samples,,,,2,,,99,UMCCR-Validation,4,"Research Samples",SBJ05010,,,,,2021-09-28,,,,,,,,,,,,,,,,,,,1,0,,0,0,,wingyee.lo,"2021-09-28 11:04:37",2021-09-28,21,21,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5010,request_original_arm_1,,,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-09-28,"Richard Tothill",rtothill@unimelb.edu.au,11,,,,,1,,,,,UMCCR-Validation,"Richard Tothill",rtothill@unimelb.edu.au,,,,,,,,,,,,,,,,,,0,0,0,1,0,,0,0,1,0,,0,,,,,,,,,,wingyee.lo,"2021-09-28 11:06:41",0,3,,,1,2021-09-28,,wingyee.lo,"2021-09-28 11:07:32",0,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,,,0,0,0,0,0,,0,0,0,0,0,0,0,0,,,,,0,,,,,,,,,,,,,,,,,,,,
5010,request_original_arm_1,biopsy_sample_type,1,_research_samples,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1,1,0,1,0,0,0,0,0,0,0,1,0,,,,,2021-09-28,,Blood,,,,0,0,0,0,0,0,,"take out germline if ctTSO",wingyee.lo,"2021-09-28 11:07:51",0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""

mock_sheet_2 = b""""Record ID","Event Name","Repeat Instrument","Repeat Instance","Data Access Group","Survey Identifier","Survey Timestamp","Email Recipient Use this field to record an email address for sending this form as a survey link (to a clinician, study coordinator etc). Check the email address is correct. IGNORE if entering data directly into REDCap. This should only be visible to the REDCap project admin team.","Research Sample or Patient Sample","Study Name (Patient Sample)","COLUMN Sub Study","Study Name (Research Sample)","Study Name (Research Sample) - Other","Study Sub Category  1 patient sample - identified, consent needed 2 patient sample - identified, consent not needed 3 patient sample - deidentified 4 research sample ","Study Name Derived","Subject ID &nbsp; modify, replace SBJ","manual SBJ","Study IDNote: This must be unique. If patient previously submitted, stop now and contact Wing-Yee for further instructions. &nbsp; (External subject ID)","Local UR Number","Other UR number","Enrolment Date","Patient's First Name","Patient's Surname","Patient's Date of Birth","Age at Enrolment to UMCCR study","Patient's Sex","Patient's Ethnicity","Patient's Race","Address Line 1","Address Line 2",Suburb,State,Postcode,"Patient's Phone Number","Patient's Email Address","Does the patient need to be consented under COLUMN (by UMCCR)?","Has the patient signed informed consent?(Study= [study_name])","Consent Date ([study_name])","Linked Subject Please select the linked subject from the drop down list. THEN SAVE THE RECORD to check it is valid.You will also need to edit the linked subject to link to this subject.","Linked Subject ID Valid?","Linked REDCap Record ID","Linked Subject ID IF YOU EDIT THIS VALUE, SAVE THE RECORD to check it is valid.You will also need to edit the linked subject to link to this subject.","Linked Subject ID Valid?","Linked REDCap Record ID","Do you have any additional comments regarding this subject's enrolment?","Create User","Create Date Time","Record Create Date","Record Create Year","Record Create YearApproach 2","Year prefix for ID generation Potentially use this for issue with import and @TODAY-SERVER not working as expected",Complete?,"Survey Timestamp","Request Date","Requester's Name","Requester's Email Address","Requester's Institution/Hospital","Requester's Institution/Hospital (other)","Will you be providing the clinical data?","Name of person providing clinical data","Email Address of person providing clinical data","Are you the Principal Investigator?","Principal Investigator's Name","Principal Investigator's Email Address","PI's Institution/Hospital","PI's Institution/Hospital (other)","Project Name","Data Custodian Name","Data Custodian Email","Tumour Stream","Tumour Subtype","Tumour Subtype","Tumour Subtype","Tumour Subtype","Tumour Subtype","Tumour Subtype","Tumour Subtype","Tumour Subtype","Tumour Subtype","Tumour Subtype","Tumour Subtype","Tumour Subtype","Please specify the tumour type","If 'Other', please specify","Tumour Subtype (Calculated)","Clinical Diagnosis","Type of Sequencing Requested (choice=Targeted Sequencing)","Type of Sequencing Requested (choice=Whole Genome Sequencing)","Type of Sequencing Requested (choice=Whole Transcriptome Sequencing)","Type of Sequencing Requested (choice=ctTSO500)","Type of Sequencing Requested (choice=Other (please specify))","Type of Sequencing Requested (Other)","Reason for Sequencing (choice=Inform diagnosis)","Reason for Sequencing (choice=Treatment target)","Reason for Sequencing (choice=Research)","Reason for Sequencing (choice=Other (please specify))","Reason for SequencingPlease explain why sequencing is appropriate for this patient.","Do you require the FASTQ data to be returned to your study?","Name of person to receive FASTQ data","Email address for return of FASTQ data","Keybase ID","Do you want a copy of the report to be sent to another clinician(s)?","Name of Clinician 1","Email Address of Clinician 1","Name of Clinician 2","Email Address of Clinician 2","Do you have any comments or other important information relating to this request?","Create User","Create Date TIme",Complete?,"Name of Principal Investigator","Name of PI (Other)","Email of PI (Other)","Approved by Principal Investigator","Approval Date","Comments (if the request is not approved, provide a reason here)","Create User ","Create Date Time ",Complete?,"Survey Timestamp","Who completed this form?","a) I wish to be informed","b) I wish for affected family members to be informed and I give my consent for the researcher to approach my relatives on my behalf","c) If I cannot be contacted, I wish to nominate a relative to be notified of any research result that may be of medical importance to my family. I have informed or will inform this individual that I have nominated them.","Full name","Relationship to me","Date of birth","Contact address","Best phone number","1. this research project only","2. this research project and any closely related future research projects","3. future research projects that may or may not be related to this research project","Are you signing for yourself or on behalf of someone else?","Name of Participant","Signature of Participant","Date of Signature (Participant)","Scanned consent form Attention UMCCR staff: Upload a scanned version of a written consent form if not completed via online survey.","Name of Witness","Signature of Witness","Date of Signature (Witness)","Participant Consent Date","Create User","Create Date Time",Complete?,"Survey Timestamp","Name of Principal Investigator","Signature of Principal Investigator","Date of Signature (Principal Investigator)","Merged Consent PDF Note: This will be auto populated if both Patient AND PI consents completed as surveys. If completed via paper or REDCap form, then upload manually.","Create User","Create Date Time",Complete?,"Survey Timestamp","What is the ECOG performance status?","What is the current disease status?","Primary Tumour Location","Is the patient currently on systemic therapy?","What is the name of the current systemic therapy?","What is the number of lines of prior therapy (excluding current)?","Prior therapy name","Has the patient received radiotherapy?","Has the patient had prior genetic testing?","What was the name of the genetic test?","Does the patient have a known pathogenic GERMLINE mutation?","Gene(s) with germline mutation","Does the patient have a known pathogenic SOMATIC mutation?","Gene(s) with Known Tumour Genomic Alterations","Does the patient have a concurrent sequencing test?","What is the name of the other sequencing test and study?","Clinical history (copy and paste text, otherwise upload file in the next section)","Upload clinical letter/history","Upload another clinical letter/history","Upload most relevant histopathology report","Upload any other relevant histopathology reports",Comments,"Create User","Create Date Time",Complete?,"Survey Timestamp","Is this the first sample submission or a resubmission?","What are you submitting? (choice=Tumour sample)","What are you submitting? (choice=Germline sample)","Has the sample been collected yet?","What type of tumour sample are you submitting? (choice=Archival tissue (FFPE slide/block))","What type of tumour sample are you submitting? (choice=Blood)","What type of tumour sample are you submitting? (choice=Fresh tissue (in RNAlater))","What type of tumour sample are you submitting? (choice=Fresh tissue (snap frozen))","What type of tumour sample are you submitting? (choice=Tumour DNA/RNA (extracted))","What type of tumour sample are you submitting? (choice=Circulating tumour DNA (ctDNA))","What type of tumour sample are you submitting? (choice=Plasma)","What type of tumour sample are you submitting? (choice=Cell-free DNA (cfDNA))","What type of tumour sample are you submitting? (choice=Other (please specify))","Tumour Sample Type (Other)","Custodial Lab - Archival Tissue","Identifier - Archival Tissue (Block/Tissue ID)","Does the archival tissue block need to be recalled?","Biopsy Date or Date of Collection","Biopsy Time (if known)","Location or Site of Biopsy","Biopsy Type","Biopsy Type (Other)","Date of Blood Collection","Germline Sample Type (choice=Whole Blood)","Germline Sample Type (choice=Frozen buffy coat pellet)","Germline Sample Type (choice=Germline DNA (extracted))","Germline Sample Type (choice=Hair)","Germline Sample Type (choice=Saliva/Buccal swab)","Germline Sample Type (choice=Other (please specify))","Germline Sample Type (Other)",,"Create User","Create Date Time",Complete?,"Tumour DNA ID","External Tumour DNA ID","Does this sample have an archival MDX/PRJ ID captured in STARLIMS?","ID from Starlims (Tumour DNA)","MDX or PRJ ID","MDX ID (Tumour DNA)","PRJ ID (Tumour DNA)","Which biopsy or submission?","Sample Source","Date sample received (Tumour DNA)","Do the identifiers on the sample match the request? (Tumour DNA)","What identifiers are different on the tumour sample?","Does the submitted tumour sample need to be extracted?","Date of extraction (Tumour DNA)","Photo of tumour DNA sample","Another photo of tumour DNA sample?","Submission form for tumour sampleeg. Nexomics extraction summary etc","Another submission form for tumour sample?","Date of sample QC ","Nanodrop tumour DNA (ng/uL)","Dilution factor tumour DNA (ng/uL)","Qubit tumour DNA","Stock concentration tumour DNA (ng/uL)","Integrity Number tumour DNA","GAPDH tumour DNA","Did Tumour DNA pass sample QC?","Why did Tumour DNA fail sample QC?","Why did Tumour DNA fail sample QC (other)?","Send email to requester for re-submission of new sample? Name: [req_requester_name]Email: [req_requester_email]","Cell-free DNA, cf[75-300bp]","cf %Total","Library Prep Date","Batch ID","Library ID","Was library prep successful?","Why did library prep fail?","Why did library prep fail (other)","Sequencing Date","Was sequencing successful?","Why did sequencing fail?","Why did sequencing fail (other)?","Will there be a top-up?","Date of top-up","Library ID (Topup)","Has the sample been returned?","Date sample returned","Any comments relating to this sample?","Create User","Create Date Time",Complete?,"Tumour RNA ID","External Tumour RNA ID","Does this sample have an archival MDX/PRJ ID captured in STARLIMS?","ID from Starlims (Tumour RNA)","MDX or PRJ ID","MDX ID (Tumour RNA)","PRJ ID (Tumour RNA)","Which biopsy or submission?","Sample Source","Date sample received (Tumour RNA)","Do the identifiers on the sample match the request? (Tumour RNA)","What identifiers are different on the tumour sample?","Does the submitted tumour sample need to be extracted?","Date of extraction (Tumour RNA)","Photo of tumour RNA sample","Another photo of tumour RNA sample?","Submission form for tumour sampleeg. Nexomics extraction summary etc","Another submission form for tumour sample?","Date of sample QC ","Nanodrop tumour RNA (ng/uL)","Dilution factor tumour RNA (ng/uL)","Qubit tumour RNA","Stock concentration tumour RNA (ng/uL)","Integrity Number tumour RNA","GAPDH tumour RNA","Did Tumour RNA pass sample QC?","Why did Tumour RNA fail sample QC?","Why did Tumour RNA fail sample QC (other)?","Send email to requester for re-submission of new sample? Name: [req_requester_name]Email: [req_requester_email]","Library Prep Date","Batch ID","Library ID","Was library prep successful?","Why did library prep fail?","Why did library prep fail (other)","Sequencing Date","Was sequencing successful?","Why did sequencing fail?","Why did sequencing fail (other)?","Will there be a top-up?","Date of top-up","Library ID (Topup)","Has the sample been returned?","Date sample returned","Any comments relating to this sample?","Create User","Create Date Time",Complete?,"Germline DNA ID","External Germline DNA ID","Does this sample have an archival MDX/PRJ ID captured in STARLIMS?","ID from Starlims (Germline DNA)","MDX or PRJ ID","MDX ID (Germline DNA)","PRJ ID (Germline DNA)","Which biopsy or submission?","Sample Source","Date sample received (Germline DNA)","Do the identifiers on the sample match the request? (Germline DNA)","What identifiers are different on the tumour sample?","Does the submitted tumour sample need to be extracted?","Date of extraction (Germline DNA)","Photo of tumour DNA sample","Another photo of tumour DNA sample?","Submission form for tumour sampleeg. Nexomics extraction summary etc","Another submission form for tumour sample?","Date of sample QC ","Nanodrop germline DNA (ng/uL)","Dilution factor tumour DNA (ng/uL)","Qubit germline DNA","Stock concentration germline DNA (ng/uL)","Integrity Number germline DNA","GAPDH germline DNA","Did Germline DNA pass sample QC?","Why did Germline DNA fail sample QC?","Why did Germline DNA fail sample QC (other)?","Send email to requester for re-submission of new sample? Name: [req_requester_name]Email: [req_requester_email]","Library Prep Date","Batch ID","Library ID","Was library prep successful?","Why did library prep fail?","Why did library prep fail (other)","Sequencing Date","Was sequencing successful?","Why did sequencing fail?","Why did sequencing fail (other)?","Will there be a top-up?","Date of top-up","Library ID (Topup)","Has the sample been returned?","Date sample returned","Any comments relating to this sample?","Create User","Create Date Time",Complete?,"RNAsum reference","SNOMED Code and Description","Was sequencing successful? (post-processing)","Why did sequencing fail?","Other reason for sequencing failure","Will a molecular report still be issued?","Other comments","Send email to requester for sample failure notification? Name: [request_clinician_name]Email: [request_clinician_email]","WGS coverage, tumour","WGS coverage, normal","Sample Quality (choice=Good quality)","Sample Quality (choice=DNA used was derived from FFPE sample)","Sample Quality (choice=DNA quality is poor)","Sample Quality (choice=Cellularity of the tumour is low)",Ploidy,"Tumour Purity (%)","Polyclonal Proportion (%)","Mutations per mbase (mut/Mb)","Coding Variants","Number of SNVs","Number of Indels","Number of Tier 1 variants","Number of Tier 2 variants","Number of Tier 3 variants","Number of Tier 4 variants","Pathogen and non-human sequences detected","Circos plot","Genome Integrity","Mutator Type","Dominant Somatic Signatures","Microsatellite instability Make changes based on Sean's comments.","Tissue of Origin","Were any germline variants identified in the current molecular report?","Germline mutation(s) from current molecular report","Were any somatic mutations identified in the current molecular report?","Somatic mutation(s) from current molecular report","Was a final Molecular Report issued?","Date of Issue of Final Molecular Report","Upload a Copy of the Final Molecular Report","Create User","Create Date Time",Complete?,"Survey Timestamp","What is the date for completion of this form?","Is the patient alive?","Is the date of death known?","Date of Death","Date Last Known Alive","Has a new treatment commenced since enrolment?","Name of treatment 1","Duration treatment 1","Best Response Treatment 1","Name of treatment 2","Duration treatment 2","Best Response Treatment 2","Name of treatment 3","Duration treatment 3","Best Response Treatment 3","Name of treatment 4","Duration treatment 4","Best Response Treatment 4","Name of treatment 5","Duration treatment 5","Best Response Treatment 5","Has the genomic sequencing result altered therapeutic management?","Which of the listed treatments was given because of the genomic sequencing result? (choice=[cmtrt1])","Which of the listed treatments was given because of the genomic sequencing result? (choice=[cmtrt2])","Which of the listed treatments was given because of the genomic sequencing result? (choice=[cmtrt3])","Which of the listed treatments was given because of the genomic sequencing result? (choice=[cmtrt4])","Which of the listed treatments was given because of the genomic sequencing result? (choice=[cmtrt5])","Has the patient been enrolled in a therapeutic clinical trial because of the genomic sequencing result?","If yes, what phase is the clinical trial?","What is the name or clinical trial identifier (if known) eg NCTXXXXX","Has the patient accessed treatment through a compassionate access program?","Which of the listed treatments was accessed through a compassionate access program? (choice=[cmtrt1])","Which of the listed treatments was accessed through a compassionate access program? (choice=[cmtrt2])","Which of the listed treatments was accessed through a compassionate access program? (choice=[cmtrt3])","Which of the listed treatments was accessed through a compassionate access program? (choice=[cmtrt4])","Which of the listed treatments was accessed through a compassionate access program? (choice=[cmtrt5])","Aside from deciding on the current therapy, has the sequencing result contributed information you would consider useful?","How has the result contributed? (choice=Clarifying or refining prognosis)","How has the result contributed? (choice=Clarifying diagnosis)","How has the result contributed? (choice=Future treatment options)","How has the result contributed? (choice=Avoiding treatment)","How has the result contributed? (choice=Explaining exceptional response)","How has the result contributed? (choice=Explaining exceptional resistance)","How has the result contributed? (choice=Previously unknown possible pathogenic germline variant)","How has the result contributed? (choice=Other)","If other, please provide a brief explanation","Has a referral to a familial cancer service been made?","Create User","Create Date Time",Complete?,Complete?,"Survey Timestamp","Who completed this form?","Name of Participant","Signature of Participant","Date of Signature (Participant)","Scanned withdrawal form Attention UMCCR staff: Upload a scanned version of a written withdrawal form if not completed via online survey.","Create User","Create Date Time",Complete?,"Survey Timestamp","Name of Principal Investigator","Signature of Principal Investigator","Date of Signature (Principal Investigator)","Merged Withdrawal PDFNote: This will be auto populated if both Patient AND PI withdrawals completed as surveys.&nbsp;","Create User","Create Date",Complete?,"Ontoserver Test CSIRO Shrimp Viewer REDCap Documentation",Complete?
5001,Enrolment,,," - Stafford Fox",,,,"Patient/clinical sample (fully curated report required)","Stafford Fox Rare Cancer",,,,3,"Stafford Fox",SBJ05001,,SFRC01442,MEH745025,SVP745025,2021-09-09,,,,,Male,"Not Reported","Not Reported",,,,,,,,,Yes,2021-08-03,,1,0,,0,0,"This is a deidentified sample",grant.lee,"2021-09-12 14:43:41",2021-09-12,21,21,,Complete,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5001,"Request Original",,," - Stafford Fox",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-09-10,"Ratana Lim",umccr-redcap@unimelb.edu.au,WEHI,,No,"Briony Milesi",umccr-redcap@unimelb.edu.au,,,,,,Scott-SFRC,"Clare Scott",precision-oncology@unimelb.edu.au,"Head and neck cancer",,,,,,,,Other,,,,,,Tonsil,Tonsil,"80 yo male with tonsillar squamous cell carcinoma (left side), T2N2bM0, Dx (by review) August 2021. p16 postitive. Infrequent smoker (less than one pack-year smoking history). Treated with curative intent chemoradiotherapy (with cisplatin) starting 0/08/21. Submitted sample is surgery tissue obtained 30-07-2021",Unchecked,Checked,Unchecked,Unchecked,Unchecked,,Unchecked,Checked,Unchecked,Unchecked,"Required for patient treatment  ",Yes,"Grant Jones",umccr-redcap@unimelb.edu.au,GJ7766,Yes,"Clare Scott",umccr-redcap@unimelb.edu.au,"Damien Kee",umccr-redcap@unimelb.edu.au,"No additional comments.",grant.lee,"2021-09-12 14:50:11",Complete,"Sean Grimmond",,,Yes,2021-09-11,"I approved this request, and these are my comments.",grant.lee,"2021-09-12 14:52:55",Complete,,,,,,,,,,,,,,,,,,,,,,,,,Incomplete,,,,,,,,Incomplete,,,Progressing,"Left tonsil",Yes,Cisplatin,0,,Yes,No,,,,,,No,,"80 yo male with tonsillar squamous cell carcinoma (left side), T2N2bM0, Dx (by review) August 2021. p16 postitive. Infrequent smoker (less than one pack-year smoking history). Treated with curative intent chemoradiotherapy (with cisplatin) starting 30/08/21. Submitted sample is surgery tissue obtained 30-07-2021  ",REDCap-Beginners-Guide.pdf,,REDCap-Beginners-Guide.pdf,,"No additional comments.",grant.lee,"2021-09-12 14:55:31",Complete,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unchecked,Unchecked,Unchecked,Unchecked,,,,,,,,,,,,,,,,,,,,,,,,,,,,Incomplete,,,,,,,,,,,,,,,,,,,,,,,,Unchecked,Unchecked,Unchecked,Unchecked,Unchecked,,,,,Unchecked,Unchecked,Unchecked,Unchecked,Unchecked,,Unchecked,Unchecked,Unchecked,Unchecked,Unchecked,Unchecked,Unchecked,Unchecked,,,,,Incomplete,,,,,,,,,,,,,,,,,,,,
5001,"Request Original","Biopsy Sample Type",1," - Stafford Fox",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1st submission",Checked,Checked,Yes,Unchecked,Unchecked,Unchecked,Unchecked,Checked,Unchecked,Unchecked,Unchecked,Unchecked,,,,,2021-07-30,,"Left tonsil","Core biopsy",,2021-08-02,Unchecked,Unchecked,Checked,Unchecked,Unchecked,Unchecked,,"Comments for sample submission go here.",grant.lee,"2021-09-12 14:54:04",Complete,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"""

class RedcapUnitTests(TransactionTestCase):
    def test_handler(self):
        """
        python manage.py test data_processors.lims.lambdas.tests.test_redcapmetadata.RedcapUnitTests.test_handler
        """
        mock_csv = tempfile.NamedTemporaryFile(suffix='.csv', delete=True)
        mock_csv.write(mock_sheet_1.lstrip().rstrip())
        mock_csv.seek(0)
        mock_csv.flush()
        when(redcapmetadata_srv).download_redcap_project_data().thenReturn(pd.read_csv(mock_csv))

        result = redcapmetadata.handler({
                'values_in': { 'subjectid': ["SBJ05001","SBJ05006","NotReal"] },
                'columns': ["subjectid","enr_patient_enrol_date","createdate","req_request_date","report_date","req_diagnosis"]
        }, None)

        logger.info("-" * 32)
        logger.info("Example output:")
        logger.info((result))

    def test_handler_pieran_columns(self):
        """
        test with the columns needed by PierianDX
        python manage.py test data_processors.lims.lambdas.tests.test_redcapmetadata.RedcapUnitTests.test_handler_pieran_columns
        """
        mock_csv = tempfile.NamedTemporaryFile(suffix='.csv', delete=True)
        mock_csv.write(mock_sheet_1.lstrip().rstrip())
        mock_csv.seek(0)
        mock_csv.flush()
        when(redcapmetadata_srv).download_redcap_project_data().thenReturn(pd.read_csv(mock_csv))


        result = redcapmetadata.handler_pierian_metadata({
                'values_in': { 'subjectid': ["SBJ05001","SBJ05006","NotReal"] }
        }, None)
       
 
        logger.info("-" * 32)
        logger.info("Example output:")
        logger.info((result))